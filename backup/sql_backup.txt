用数据库算个点之间的距离：
CREATE VIEW ORDINATES
AS
SELECT adj.adjID, adj.pointNum1, p1.x AS x1, p1.y AS y1, adj.pointNum2, p2.x AS x2, p2.y AS y2
FROM floor1_adjpts AS adj
INNER JOIN floor1_pts AS p1 ON (adj.pointNum1 = p1.pointNum)
INNER JOIN floor1_pts AS p2 ON (adj.pointNum2 = p2.pointNum)

CREATE TABLE floor1_adjpts_distance
SELECT ordinates.adjID, sqrt((ordinates.x1-ordinates.x2)*(ordinates.x1-ordinates.x2)+(ordinates.y1-ordinates.y2)*(ordinates.y1-ordinates.y2)) AS distance
FROM ordinates

UPDATE floor1_adjpts, floor1_adjpts_distance
SET floor1_adjpts.distance = floor1_adjpts_distance.distance
WHERE floor1_adjpts.adjID = floor1_adjpts_distance.adjID